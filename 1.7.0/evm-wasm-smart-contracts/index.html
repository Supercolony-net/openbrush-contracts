<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-1.7.0 plugin-docs plugin-id-default docs-doc-id-evm-wasm-smart-contracts">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.21">
<title data-rh="true">EVM vs WASM Smart Contracts | OpenBrush</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.openbrush.io/1.7.0/evm-wasm-smart-contracts"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="1.7.0"><meta data-rh="true" name="docusaurus_tag" content="docs-default-1.7.0"><meta data-rh="true" name="docsearch:version" content="1.7.0"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-1.7.0"><meta data-rh="true" property="og:title" content="EVM vs WASM Smart Contracts | OpenBrush"><meta data-rh="true" name="description" content="This short article describes differences between EVM Smart Contracts &amp; Substrate WASM Smart contracts."><meta data-rh="true" property="og:description" content="This short article describes differences between EVM Smart Contracts &amp; Substrate WASM Smart contracts."><link data-rh="true" rel="icon" href="/img/favicon.svg"><link data-rh="true" rel="canonical" href="https://docs.openbrush.io/1.7.0/evm-wasm-smart-contracts"><link data-rh="true" rel="alternate" href="https://docs.openbrush.io/1.7.0/evm-wasm-smart-contracts" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.openbrush.io/1.7.0/evm-wasm-smart-contracts" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.6f02097e.css">
<link rel="preload" href="/assets/js/runtime~main.b00a5d84.js" as="script">
<link rel="preload" href="/assets/js/main.01487ccc.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="OpenBrush" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo-dark.svg" alt="OpenBrush" class="themedImage_ToTc themedImage--dark_i4oU"></div></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Versions</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/next">2.2.0</a></li><li><hr class="dropdown-separator"></li><li><a class="dropdown__link" href="/2.1.0">2.1.0</a></li><li><a class="dropdown__link" href="/2.0.0">2.0.0</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/1.7.0">1.7.0</a></li><li><hr class="dropdown-separator"></li><li><a class="dropdown__link" href="/allVersions">all versions</a></li></ul></div><a class="navbar__item navbar__link" href="/smart-contracts/overview">Examples</a><a class="navbar__item navbar__link" href="/deployment">Deployment</a><a href="https://twitter.com/supercolony_vs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-twitter-link"></a><a href="https://github.com/Supercolony-net/openbrush-contracts" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/1.7.0/">Getting started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/1.7.0/smart-contracts/overview">Smart Contracts</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/1.7.0/smart-contracts/overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/1.7.0/smart-contracts/access-control">Access Control</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/1.7.0/smart-contracts/ownable">Ownable</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/1.7.0/smart-contracts/proxy">Proxy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/1.7.0/smart-contracts/diamond">Diamond Standard</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/1.7.0/smart-contracts/reentrancy-guard">Reentrancy Guard</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/1.7.0/smart-contracts/pausable">Pausable</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/1.7.0/smart-contracts/payment-splitter">Payment Splitter</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" tabindex="0" href="/1.7.0/smart-contracts/PSP22/">PSP22</a><button aria-label="Toggle the collapsible sidebar category &#x27;PSP22&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/1.7.0/smart-contracts/PSP22/Extensions/metadata">Extensions</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/1.7.0/smart-contracts/PSP22/Utils/token-timelock">Utils</a></div></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/1.7.0/smart-contracts/timelock-controller">Timelock Controller</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" tabindex="0" href="/1.7.0/smart-contracts/PSP34/">PSP34</a><button aria-label="Toggle the collapsible sidebar category &#x27;PSP34&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/1.7.0/smart-contracts/PSP34/Extensions/metadata">Extensions</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" tabindex="0" href="/1.7.0/smart-contracts/PSP1155/">PSP1155</a><button aria-label="Toggle the collapsible sidebar category &#x27;PSP1155&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/1.7.0/smart-contracts/PSP1155/Extensions/metadata">Extensions</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" tabindex="0" href="/1.7.0/smart-contracts/example/overview">OpenBrush Example</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/1.7.0/smart-contracts/example/overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/1.7.0/smart-contracts/example/setup_project">Setup the project</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/1.7.0/smart-contracts/example/psp22">Implement PSP-22 contract</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/1.7.0/smart-contracts/example/shares">Shares contract</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/1.7.0/smart-contracts/example/loan">Loan contract</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/1.7.0/smart-contracts/example/data">Data and derive macro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/1.7.0/smart-contracts/example/impls">Lending impls</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/1.7.0/smart-contracts/example/errors">Errors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/1.7.0/smart-contracts/example/contract">Lending contract</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/1.7.0/smart-contracts/example/implementation">Notes about methods</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/1.7.0/deployment">Deploy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/1.7.0/evm-wasm-smart-contracts">EVM vs WASM Smart Contracts</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_GujU"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->OpenBrush<!-- --> <b>1.7.0</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/evm-wasm-smart-contracts">latest version</a></b> (<!-- -->2.2.0<!-- -->).</div></div><div class="docItemContainer_Adtb"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">EVM vs WASM Smart Contracts</span><meta itemprop="position" content="1"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 1.7.0</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_aoJ5"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>EVM vs WASM Smart Contracts</h1></header><p>This short article describes differences between EVM Smart Contracts &amp; Substrate WASM Smart contracts.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="evm">EVM<a class="hash-link" href="#evm" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="background">Background<a class="hash-link" href="#background" title="Direct link to heading">​</a></h3><p>Ethereum was the first Turing-complete blockchain and was mainly developed because of limitations of Bitcoin&#x27;s script. In order to execute smart contracts, a sandbox environment is needed. The sandbox environment where Smart contracts are executed in Ethereum is the  <strong>Ethereum virtual machine</strong> (<em>EVM</em>)</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="bytecode">Bytecode<a class="hash-link" href="#bytecode" title="Direct link to heading">​</a></h3><p>EVM uses a stack-based bytecode language called EVM bytecode. EVM bytecode is a series of OP_CODEs (instructions) that are executed by the EVM. These OP_CODEs offer rather limited instructions compared to a full-blown language (Java, WASM, ..)</p><p>The primitive of the bytecode is <em>256-bit</em> integer, which can be a big limitation, as it is needed to use <em>256-bit</em> integers to do calculations on even small numbers. Moreover, it will take 256 bits of memory for any value that is stored in persistent storage.</p><p>The main OP_CODEs are <strong>SLOAD</strong> to load data, <strong>SSTORE</strong> to write a <em>256-bit</em> integer to storage and <strong>CALL</strong> to call another contract <a href="https://github.com/crytic/evm-opcodes" target="_blank" rel="noopener noreferrer">full list of OP_CODES</a>. It&#x27;s via these instructions that EVMs interact with the chain.</p><p><img loading="lazy" alt="image info" src="/assets/images/eth-1-ad987c237ade36ced07edf738d54f0f8.png" width="1129" height="237" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="gas-model">Gas model<a class="hash-link" href="#gas-model" title="Direct link to heading">​</a></h3><p>The incentive model of interacting with EVM is gas. It acts like a fee that is calculated for each instruction someone executes. Every instruction has a certain pre-calculated fee amount, and the total gas spent is the sum of all the instructions that were executed.</p><p>Please check the entire table of <a href="https://blockgeeks.com/wp-content/uploads/2018/03/image2-2.png" target="_blank" rel="noopener noreferrer">fees</a>
A gas fee is only due when interacting with EVM. There is no charge for the space you are using for storage, and it results in having a ton of dead code (or non-used contracts) stay on Ethereum chain forever.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="evm-process">Evm process<a class="hash-link" href="#evm-process" title="Direct link to heading">​</a></h3><p><img loading="lazy" alt="image info" src="/assets/images/eth2-ffa3287e02b17629ea23aeba96d201e0.png" width="1187" height="647" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="substrate-contract-pallet">Substrate Contract-Pallet<a class="hash-link" href="#substrate-contract-pallet" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="intro">Intro<a class="hash-link" href="#intro" title="Direct link to heading">​</a></h3><p><code>pallet-contract</code> is a module in Substrate (the framework to build blockchain on <code>Polkadot</code>). Its purpose is a sandbox environment, which provides WASM interpreter and allows executing WASM smart contracts.</p><p><img loading="lazy" alt="image info" src="/assets/images/WASM1-6756d42cebd1ac99b3ba95e855d30b3f.png" width="748" height="168" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="wasm-interpreter">WASM interpreter<a class="hash-link" href="#wasm-interpreter" title="Direct link to heading">​</a></h3><p>At the moment, contract pallet uses <a href="https://github.com/paritytech/wasmi" target="_blank" rel="noopener noreferrer">wasmi</a> as the interpreter. Wasmi is a pure interpreter-type WASM virtual machine. It is used because execution of smart contract needs a high degree of correctness.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="storage-rent--gas">Storage rent &amp; Gas<a class="hash-link" href="#storage-rent--gas" title="Direct link to heading">​</a></h3><p>In order to incentive the deletion of unused code on chain, pallet-contract implemented a storage-rent principle.  </p><p>Every smart contract will have a rent to pay for its code and on-chain storage (small amount at every block). When the smart contract fails to pay the rent, the contract will become a Tombstone (its storage will be deleted).</p><p>The gas system of ethereum (price depending on the complexity of the computation) is still present in Substrate, but the gas is charged after the call is executed, as it is basically a fee on the time of execution (the more time it takes for the node to execute a call, the more caller will pay). The <code>pallet-contract</code> defines the <a href="https://substrate.dev/docs/en/knowledgebase/smart-contracts/contracts-pallet" target="_blank" rel="noopener noreferrer">amount of gas</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="contract-code--instance-are-decoupled">Contract code &amp; instance are decoupled<a class="hash-link" href="#contract-code--instance-are-decoupled" title="Direct link to heading">​</a></h3><p>Even though <code>pallet-contract</code> uses an account model for its contracts (like ethereum does), there is still one big difference:</p><p>When you deploy a WASM smart contract, it will only create a hash of the WASM code, meaning that this contract will have no address, nor will it have some associated storage (so it is impossible to interact with this contract). In Ethereum, though, every contract code deployed on chain has a unique address (instance) and its associated storage.</p><p>After the WASM hash is deployed, one can create as many instances of this contract as they want. Each instance will have a unique address to interact with, as well as its own associated storage.</p><p>Why is it useful:</p><ul><li>Different contract instances with different <strong>constructor parameters</strong> can be instantiated using the same uploaded code, which reduces the space needed on chain to store WASM code</li><li>Storage and balance are decoupled from contract code logic, which provides ability <strong>patch or upgrade</strong> the underlying contract code</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="evm-vs-contract-pallet">EVM vs contract-pallet<a class="hash-link" href="#evm-vs-contract-pallet" title="Direct link to heading">​</a></h2><ul><li>Common point: they both are a sandbox to execute smart contracts</li><li>The engine which executes contracts is different. In Ethereum, as it was the first blockchain to implement a sandbox environment, it is rather limited and slow, compared to a wasm interpreter
Storage rent has been introduced in contract-pallet to incentivize the deletion of unused code</li><li>Contract pallet integrates a <a href="https://substrate.dev/docs/en/knowledgebase/smart-contracts/contracts-pallet#two-step-deployment" target="_blank" rel="noopener noreferrer">two-step-deployment</a> to decouple contract code and contract instances</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="comparing-wasm-smart-contracts-to-evm-smart-contracts">Comparing WASM Smart contracts to EVM smart contracts<a class="hash-link" href="#comparing-wasm-smart-contracts-to-evm-smart-contracts" title="Direct link to heading">​</a></h2><ul><li>WASM is broadly adopted, while EVM bytecode is only used in EVMs -&gt; There is way more tools available for WASM development</li><li>EVM bytecode can only be compiled from Solidity or Vyper, while WASM can be compiled from a lot of Popular languages (Rust, C/C++, C#, Java, Typescript, Haxe, Kotlin and even from Solidity)</li><li>Excellent integration of Rust to compile in WASM</li><li>Lightweight: it produces lightweight binaries that can ship easily</li><li>performance near native code (2x faster than Javascipt)</li><li>Continually developed by major companies such as Google, Apple, Microsoft, Mozilla, and Facebook.</li></ul><p><a href="https://paritytech.github.io/ink-docs/why-webassembly-for-smart-contracts" target="_blank" rel="noopener noreferrer">more info here</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/Supercolony-net/openbrush-contracts/tree/main/docs/versioned_docs/version-1.7.0/evm-wasm-smart-contracts.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_eYIM" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vbeJ"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/1.7.0/deployment"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Deploy</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#evm" class="table-of-contents__link toc-highlight">EVM</a><ul><li><a href="#background" class="table-of-contents__link toc-highlight">Background</a></li><li><a href="#bytecode" class="table-of-contents__link toc-highlight">Bytecode</a></li><li><a href="#gas-model" class="table-of-contents__link toc-highlight">Gas model</a></li><li><a href="#evm-process" class="table-of-contents__link toc-highlight">Evm process</a></li></ul></li><li><a href="#substrate-contract-pallet" class="table-of-contents__link toc-highlight">Substrate Contract-Pallet</a><ul><li><a href="#intro" class="table-of-contents__link toc-highlight">Intro</a></li><li><a href="#wasm-interpreter" class="table-of-contents__link toc-highlight">WASM interpreter</a></li><li><a href="#storage-rent--gas" class="table-of-contents__link toc-highlight">Storage rent &amp; Gas</a></li><li><a href="#contract-code--instance-are-decoupled" class="table-of-contents__link toc-highlight">Contract code &amp; instance are decoupled</a></li></ul></li><li><a href="#evm-vs-contract-pallet" class="table-of-contents__link toc-highlight">EVM vs contract-pallet</a></li><li><a href="#comparing-wasm-smart-contracts-to-evm-smart-contracts" class="table-of-contents__link toc-highlight">Comparing WASM Smart contracts to EVM smart contracts</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 OpenBrush, Supercolony.net.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.b00a5d84.js"></script>
<script src="/assets/js/main.01487ccc.js"></script>
</body>
</html>